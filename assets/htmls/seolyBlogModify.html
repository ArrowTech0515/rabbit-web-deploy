<div class="progress_step"><span class="spinner-border text-primary"></span></div>
<div id="modifyArticleSection" class="modifyArticleSeoly" style="display: none">
    <form id="changeLinksModifyForm" onsubmit="return false;" >
        <input type="hidden" class="linkId" name="linkId"/>
        <input type="hidden" class="blogUrl" name="blogUrl"/>
        <input type="hidden" class="hiddenAddUserDetails" name="addUserDetails"/>
        <input type="hidden" class="linkHrefArticle" name="linkHrefArticle"/>
        <input type="hidden" name="articleImage" class="articleImage"/>
        <input type="hidden" name="articleContentChanged" class="articleContentChanged"/>
        <input type="hidden" name="finalArticleContent" class="hiddenFinalArticleContent"/>
        <!--        <div class="edit_title">-->
        <!--            Edit Blog Post-->
        <!--        </div>-->
      

            <div class="card bg-white mb-3">
                <div class="card-body">
                    <h3 class="dash-title" id="back_tablze" style="cursor: pointer" onclick="modifyArticleTable()">
                         Modify Blog Details
                         <button type="button" class="close float-right" onclick="$('#appDataModal').modal('hide');">
                            <span aria-hidden="true">Ã—</span>
                        </button>
                    </h3>
                    <div class="row">
                        <div class="col-md-12">
                            <div class=" mb-3">
                                <div class="published_details mt-3">
                                    <div class=" select2CustomForm">
                                        <label for="articleCategoriesModify" class="formLable d-block">Add Categories</label>
                                        <select id="articleCategoriesModify" class=" js-example-placeholder-multiple"
                                                multiple="multiple" name="categories"></select>
                                    </div>
                                    <div class=" select2CustomForm">
                                        <label for="articleTagsModify" class="formLable d-block">Add Tags</label>
                                        <select id="articleTagsModify" class=" js-example-placeholder-multiple"
                                                multiple="multiple"
                                                name="tags"></select>
                                    </div>
                                    <div class="search_image_list">
                                        <div class="form-group search_image"> 
                                            <div>
                                                <input type="text" class="form-control imagesByKeyword"
                                                   placeholder="Search image to add on your blog post">
                                                <button class="btn"
                                                    onclick="loadImagesByQuery($('.imagesByKeyword').val())" type="button"><img src="assets/images/newicon/search.png"></button>
                                            </div>
                                        </div>
                                           

                                        <div class="imagesSection"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
           
            <div class="card">
                <div class="card-body">
                    <div class="published_details new_box_content">
                        <div class="final_content mt-4">
                            <div id="summernote">
                                <div class="finalArticleText"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

   
        <div class="published_details text-center mt-3 mb-3">
            <button type="button"
                    onclick="$('.hiddenFinalArticleContent').val($('#summernote').summernote('code')); submitChangeLinks(this);"
                    style="width: 100%;"
                    class="btn btn-primary fw-normal  pageBtn submit-btn">
                    <img src="assets/images/newicon/material-symbols-light_save.png" height="20"/>
                    Save Changes
            </button>
            <div class="progress_step" style="display: none">
                <span class="spinner-border text-primary"></span>
                Please wait...
            </div>
        </div>  
    </form>
</div>  
<style type="text/css">
    span.select2-container.select2-container--default{
        z-index: 100000;
    }
    .modifyArticleSeoly .card{
        border-color: #7A4DC6;
    }
    .modifyArticleSeoly .dash-title{
       color: #7A4DC6; 
    }
    .modifyArticleSeoly .select2CustomForm{
        display: flex;
        gap:10px;
        margin-bottom: 20px;
        align-items: center;
    }
    .modifyArticleSeoly .select2CustomForm label{
       flex: 0 0 150px;
       width: 150px;
    }
    .modifyArticleSeoly .select2CustomForm .selection{
        display: block;
    }
    .modifyArticleSeoly textarea.select2-search__field{
        height: 34px !important;
    }
    .modifyArticleSeoly span.select2-container.select2-container--default{
        display: block;
    }
    .modifyArticleSeoly li.select2-selection__choice {
        background-color: #FFFFFF !important;
        border: 1px solid #D3BAFB !important;
    }
    .modifyArticleSeoly .search_image_list{
        background: #FFFFFF;
        border: 1px solid #D9D9D9;
        padding: 3px;
        border-radius: 10px;
    }
    .modifyArticleSeoly .search_image_list .search_image{
        background: linear-gradient(90deg, #C64DA5 0%, #721E99 100%);
        padding: 3px;
        border-radius: 10px 10px 0px 0px;
    }
    .modifyArticleSeoly .search_image_list .search_image > div{
       max-width: 500px;
       margin: 10px auto;
       position: relative;

    }
    .modifyArticleSeoly .search_image_list .search_image > div .btn{
        position: absolute;
        right: 0px;
        top: 0px;
    }
 
    .modifyArticleSeoly .imagesSection {
        --bs-gutter-x: 1.5rem;
        --bs-gutter-y: 0;
        display: flex;
        flex-wrap: wrap;
        margin-top: calc(var(--bs-gutter-y) * -1);
        margin-right: calc(var(--bs-gutter-x) * -.5);
        margin-left: calc(var(--bs-gutter-x) * -.5);
        max-height: 400px;
        overflow: hidden;
        overflow-y: auto;
    }

    .modifyArticleSeoly .imagesSection > * {
        flex-shrink: 0; 
        padding-right: calc(var(--bs-gutter-x) * .5);
        padding-left: calc(var(--bs-gutter-x) * .5);
        margin-top:10px;
    }
    .modifyArticleSeoly .imagesSection .article-image{
        height: 200px;
        border-radius: 10px;
        position: relative;
        overflow: hidden;
        background-size: cover !important;
        cursor: pointer;
    }
    .modifyArticleSeoly .imagesSection .article-image.active::after{
        content: "Selected";
        display: inline-block;
        padding: 6px 20px;
        background: #7A4DC6;
        color: #FFFFFF;
        position: absolute;
        top: 10px;
        left: 10px;
        border-radius: 6px;
        font-size: 14px;
        max-height: 400px;
        overflow: hidden;
        overflow-y: auto;
    }
     /* Targeting the specific div with ID */
    .modifyArticleSeoly .imagesSection::-webkit-scrollbar {
            width: 6px; /* Width of the scrollbar */
        }

        /* Track */
    .modifyArticleSeoly .imagesSection::-webkit-scrollbar-track {
            background: #D9D9D9; /* Color of the track */
        }

        /* Handle */
    .modifyArticleSeoly .imagesSection::-webkit-scrollbar-thumb {
            background: #9159EF; /* Color of the handle */
        }

        /* Handle on hover */
    .modifyArticleSeoly .imagesSection::-webkit-scrollbar-thumb:hover {
            background: #9159EF; /* Color of the handle on hover */
        }

        /* Optional: Scrollbar corner */
    .modifyArticleSeoly .imagesSection::-webkit-scrollbar-corner {
            background: #D9D9D9; /* Color of the scrollbar corner */
        }
        .modal-header,.modal-footer{
            display: none;
        }
        .modifyArticleSeoly .close{
            background: #EF3D68;
            border-radius: 50%;
            color: #FFFFFF;
            height: 20px;
            width: 20px;
            opacity: 1;
        }
        .modifyArticleSeoly .close span{
            color: #FFFFFF;
        }
        .modifyArticleSeoly .btn.btn-primary.pageBtn{
            border: none;
            padding: 10px 0;
            font-size: 16px;
        }
        .modifyArticleSeoly .select2-container--default .select2-selection--multiple .select2-selection__choice__remove{
            left: inherit;
            right: 0;
            background-color:#FFFFFF !important;
            font-size: 18px;
            font-weight: normal;
        }
        .modifyArticleSeoly .select2-container--default .select2-selection--multiple .select2-selection__choice{
            padding-left: 0;
            padding-right: 20px;
        }
</style>
<script type="text/javascript">
    $(document).ready(function () {
        $("#addlink_list").click(function () {
            $('.addlink_list').toggle();
        });
        $('#summernote').summernote({
            placeholder: 'Blog Post Content',
            height: 420,
            toolbar: [
                // ['style', ['style']],
                // ['font', ['bold', 'underline', 'clear']],
                // ['color', ['color']],
                // ['para', ['ul', 'ol', 'paragraph']],
                // ['table', ['table']],
                ['link'],
                // ['insert', ['link', 'picture', 'video']],
                // ['insert', ['link', 'picture', 'video']],
                // ['view', ['fullscreen', 'codeview', 'help']]
            ],
            callbacks: {
                onChange: function (contents, $editable) {
                    $('.articleContentChanged').val('true');
                }
            }
        });
    });

    $('.modifyArticleSeoly .js-example-placeholder-multiple').select2({
      dropdownParent: $('#appDataModal')
    });
    

</script>